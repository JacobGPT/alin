<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>Contact ‚Äî ALIN</title>
  <meta name="description" content="Get in touch with ALIN. Questions, partnerships, bug reports, or feature requests.">
  <link rel="preconnect" href="https://api.fontshare.com" crossorigin>
  <link href="https://api.fontshare.com/v2/css?f[]=satoshi@700,900&f[]=general-sans@400,500,600&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
</head>
<body>

<script src="shared.js"></script>
<script>document.body.insertAdjacentHTML('afterbegin',getNav('contact'));</script>

<section class="page-hero">
  <div class="wrap">
    <div style="animation:rise .6s var(--ease) both">
      <span class="page-hero__overline">Contact</span>
      <h1 class="page-hero__title" data-scramble>Get in Touch</h1>
      <p class="page-hero__desc">Questions, partnerships, or just want to say hello? We'd love to hear from you.</p>
    </div>
  </div>
</section>

<section class="section">
  <div class="wrap">
    <div class="contact-grid">

      <!-- FORM -->
      <div class="auth-card reveal-left">
        <div class="form__alert form__alert--error" id="error"></div>
        <div class="form__alert form__alert--success" id="success"></div>

        <div class="form__row">
          <div class="form__group">
            <label class="form__label" for="name">Name</label>
            <input class="form__input" type="text" id="name" placeholder="Your name" autocomplete="name">
          </div>
          <div class="form__group">
            <label class="form__label" for="email">Email</label>
            <input class="form__input" type="email" id="email" placeholder="you@example.com" autocomplete="email">
          </div>
        </div>

        <div class="form__group">
          <label class="form__label" for="subject">Subject</label>
          <select class="form__select" id="subject">
            <option value="general">General inquiry</option>
            <option value="partnership">Partnership</option>
            <option value="bug">Bug report</option>
            <option value="feature">Feature request</option>
            <option value="enterprise">Enterprise sales</option>
          </select>
        </div>

        <div class="form__group">
          <label class="form__label" for="message">Message</label>
          <textarea class="form__textarea" id="message" placeholder="Tell us more..." rows="5"></textarea>
        </div>

        <button class="btn btn--primary btn--lg btn--full" id="sendBtn">Send Message</button>
      </div>

      <!-- INFO SIDEBAR -->
      <div class="contact-info reveal-right">
        <div class="contact-item" data-tilt-light>
          <div class="contact-item__icon">‚úâ</div>
          <div>
            <div class="contact-item__label">Email</div>
            <div class="contact-item__val"><a href="mailto:help@alinai.dev">help@alinai.dev</a></div>
          </div>
        </div>
        <div class="contact-item" data-tilt-light>
          <div class="contact-item__icon">üí¨</div>
          <div>
            <div class="contact-item__label">Response Time</div>
            <div class="contact-item__val">Usually within 24 hours</div>
          </div>
        </div>
        <div class="contact-item" data-tilt-light>
          <div class="contact-item__icon">üêõ</div>
          <div>
            <div class="contact-item__label">Bug Reports</div>
            <div class="contact-item__val">Include steps to reproduce, browser, and any error messages.</div>
          </div>
        </div>
        <div class="contact-item" data-tilt-light>
          <div class="contact-item__icon">ü§ù</div>
          <div>
            <div class="contact-item__label">Partnerships</div>
            <div class="contact-item__val">Open to integrations, reseller agreements, and API collaborations.</div>
          </div>
        </div>
        <div class="contact-item" data-tilt-light>
          <div class="contact-item__icon">ùïè</div>
          <div>
            <div class="contact-item__label">Social</div>
            <div class="contact-item__val"><a href="#">@aaborni on X</a> ¬∑ <a href="#">GitHub</a></div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- CTA -->
<section class="cta cta--pricing">
  <div class="wrap"><div class="reveal-scale">
    <h2 class="cta__title">Rather just try it?</h2>
    <p class="cta__desc">Skip the form. Create a free account and see ALIN in action.</p>
    <div class="cta__actions">
      <a href="signup.html" class="btn btn--primary btn--lg" data-magnetic data-page="signup.html">Get Started Free ‚Üí</a>
      <a href="docs.html" class="btn btn--secondary btn--lg" data-magnetic data-page="docs.html">Read the Docs</a>
    </div>
  </div></div>
</section>

<script>
document.body.insertAdjacentHTML('beforeend',getFooter());

// ===== CONTACT FORM HANDLER =====
var sendBtn=document.getElementById('sendBtn');
var errorEl=document.getElementById('error');
var successEl=document.getElementById('success');

function showError(msg){errorEl.textContent=msg;errorEl.classList.add('visible');successEl.classList.remove('visible')}
function showSuccess(msg){successEl.textContent=msg;successEl.classList.add('visible');errorEl.classList.remove('visible')}
function hideAlerts(){errorEl.classList.remove('visible');successEl.classList.remove('visible')}

sendBtn.addEventListener('click',function(){handleContact()});

async function handleContact(){
  var name=document.getElementById('name').value.trim();
  var email=document.getElementById('email').value.trim();
  var subject=document.getElementById('subject').value;
  var message=document.getElementById('message').value.trim();
  hideAlerts();

  if(!name||!email){showError('Name and email are required.');return}
  if(!message){showError('Please enter a message.');return}
  // Basic email validation
  if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)){showError('Please enter a valid email address.');return}

  sendBtn.textContent='Sending...';sendBtn.disabled=true;

  try{
    var res=await fetch('/api/contact',{
      method:'POST',
      headers:{'Content-Type':'application/json'},
      body:JSON.stringify({name:name,email:email,subject:subject,message:message})
    });
    var data=await res.json();
    if(!res.ok)throw new Error(data.error||'Failed to send message');
    showSuccess('Message sent! We will get back to you shortly.');
    document.getElementById('name').value='';
    document.getElementById('email').value='';
    document.getElementById('message').value='';
    document.getElementById('subject').selectedIndex=0;
    sendBtn.textContent='Send Message';sendBtn.disabled=false;
  }catch(err){
    showError(err.message);
    sendBtn.textContent='Send Message';sendBtn.disabled=false;
  }
}

// Enter key on textarea does NOT submit (allows multiline)
// But we could add Ctrl+Enter if desired
document.getElementById('message').addEventListener('keydown',function(e){
  if(e.key==='Enter'&&(e.ctrlKey||e.metaKey))handleContact();
});

initPage();
</script>
</body>
</html>
